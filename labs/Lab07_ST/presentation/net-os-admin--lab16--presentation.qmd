---
title: "Лабораторная работа №7"
author: "Газизянов Владислав Альбертович"
subtitle: "Адресация IPv4 и IPv6. Настройка DHCP"
license: "CC BY"
date: today
date-format: "YYYY-MM-DD"
---

# Цели и задачи

**Цель:** Получение навыков настройки службы DHCP для распределения адресов IPv4 и IPv6

**Задачи:**
- Настройка DHCP для IPv4-адресации
- Конфигурация DHCPv6 Stateless
- Настройка DHCPv6 Stateful
- Анализ сетевых пакетов

# Топология сети в GNS3

**Реализация сетевой инфраструктуры:**
- Маршрутизатор VyOS
- Клиентские устройства VPCS
- Коммутаторы для сегментации сети
- Захват сетевого трафика

![Топология сети в GNS3](image/1.png){width=70%}

# Настройка DHCP для IPv4

**Конфигурация сервера:**
- Установка и настройка VyOS
- Определение пула адресов
- Настройка параметров сети
- Управление арендами адресов

![Конфигурация DHCP-сервера IPv4](image/3.png){width=70%}

# Работа DHCP-клиента

**Получение адресов:**
- Активация DHCP-клиента
- Процесс четырехэтапного обмена
- Проверка сетевой конфигурации
- Диагностика подключения

![Получение адреса по DHCP на клиенте](image/5.png){width=70%}

# Мониторинг DHCP-сервера

**Контроль работы сервиса:**
- Просмотр статистики сервера
- Мониторинг выданных аренд
- Анализ логов DHCP
- Управление временем аренды

![Статистика DHCP после подключения клиента](image/7.png){width=70%}

# Анализ DHCP-пакетов

**Исследование сетевого трафика:**
- Пакеты DISCOVER, OFFER, REQUEST, ACK
- Структура сообщений DHCP
- Процесс получения адреса
- Диагностика проблем

![Анализ DHCP-пакетов](image/8.png){width=70%}

# DHCPv6 без отслеживания состояния

**Stateless конфигурация:**
- Настройка SLAAC + DHCPv6
- Флаг other-config-flag
- Автоматическая настройка адресов
- Получение DNS через DHCPv6

![Настройка DHCPv6 Stateless](image/10.png){width=70%}

# DHCPv6 с отслеживанием состояния

**Stateful конфигурация:**
- Настройка managed-flag
- Определение диапазона адресов
- Полная конфигурация через DHCPv6
- Управление арендами IPv6

![Настройка DHCPv6 Stateful](image/13.png){width=70%}

# Тестирование DHCPv6

**Проверка работы:**
- Получение адресов через разные режимы
- Проверка сетевой связности
- Конфигурация DNS-серверов
- Сравнение Stateless и Stateful

![Получение адреса через DHCPv6 Stateful](image/14.png){width=70%}

# Мониторинг DHCPv6

**Контроль IPv6-аренд:**
- Просмотр выданных адресов
- Анализ DUID клиентов
- Управление сроками аренды
- Диагностика проблем распределения

![Аренды DHCPv6 на маршрутизаторе](image/15.png){width=70%}

# Сравнение DHCPv4 и DHCPv6

**Ключевые различия:**
- Процессы получения адресов
- Типы сообщений и протоколы
- Методы обеспечения уникальности
- Поддержка различных режимов работы
- Особенности адресации и маршрутизации

# Анализ пакетов DHCPv6

**Исследование IPv6-трафика:**
- Сообщения SOLICIT, ADVERTISE, REQUEST, REPLY
- Структура пакетов DHCPv6
- Особенности работы в IPv6-сетях
- Диагностика и отладка


# Результаты работы

**Освоенные компетенции:**
- Настройка DHCP для IPv4 и IPv6
- Работа с различными режимами DHCPv6
- Мониторинг и диагностика DHCP-серверов
- Анализ сетевого трафика
- Навыки работы с маршрутизатором VyOS
- Понимание процессов автоматической адресации

# Выводы

**Основные достижения:**
- Освоена настройка DHCP-серверов для обоих версий IP
- Приобретен опыт работы с разными режимами DHCPv6
- Изучены методы анализа сетевого трафика
- Получены навыки диагностики сетевых проблем
- Освоены инструменты мониторинга DHCP
- Понимание различий в адресации IPv4 и IPv6
