---
title: "Лабораторная работа №3"
subtitle: "Анализ трафика в Wireshark"
author: "Газизянов Владислав Альбертович"
license: "CC BY"
date: today
date format: "YYYY MM DD"
---

## Цели работы

Изучение посредством Wireshark кадров Ethernet  
Анализ PDU протоколов транспортного и прикладного уровней стека TCP/IP  
Освоение методов захвата и анализа сетевого трафика

## Установка и настройка Wireshark

Wireshark - анализатор трафика сетей на базе Ethernet  
Использует библиотеку Pcap/WinPcap для захвата пакетов  
Требует административных прав для работы  
Поддерживает фильтрацию трафика по протоколам

## Анализ MAC-адресации

Команда `ipconfig /all` показывает сетевые интерфейсы  
Определены MAC-адреса всех адаптеров  
Основной интерфейс: Беспроводная сеть  
MAC-адрес: C0-BF-BE-CF-C4-CE

![Вывод ipconfig /all](image/1.png)

## Структура MAC-адреса

**C0-BF-BE-CF-C4-CE**  
OUI: C0-BF-BE (MediaTek Inc.)  
Идентификатор интерфейса: CF-C4-CE  
Тип: индивидуальный (unicast)  
Администрирование: глобальное

## Захват ICMP трафика

Запущен захват на интерфейсе "Беспроводная сеть"  
Выполнен ping шлюза: `ping 192.168.0.1`  
Применен фильтр: `arp or icmp`

![Фильтрация ARP и ICMP](image/5.png)

## Анализ ICMP-запроса

**Echo request от 192.168.0.101 к 192.168.0.1**  
Длина кадра: 74 байта  
MAC назначения: TPLink_15:al:6c (шлюз)  
MAC источника: AzureWaveTec_cf:c4:ce (компьютер)  
Тип: Ethernet II

![ICMP-запрос](image/6.png)

## Анализ ICMP-ответа

**Echo reply от 192.168.0.1 к 192.168.0.101**  
Длина кадра: 74 байта  
MAC назначения: AzureWaveTec_cf:c4:ce (компьютер)  
MAC источника: TPLink_15:al:6c (шлюз)  
Тип: Ethernet II

![ICMP-ответ](image/7.png)

## Анализ ARP пакетов

**ARP запрос:**  
"Who has 192.168.0.101?" от шлюза  
MAC назначения: Broadcast (ff:ff:ff:ff:ff:ff)

**ARP ответ:**  
"192.168.0.101 is at c0:bf:be:cf:c4:ce"  
MAC назначения: индивидуальный

![ARP анализ](image/8.png)

## TCP handshake анализ

**Трехэтапное рукопожатие:**  
Пакет 26: [SYN] - инициация (Seq=0)  
Пакет 30: [SYN, ACK] - подтверждение (Seq=0, Ack=1)  
Пакет 34: [ACK] - завершение (Seq=1, Ack=1)

![TCP handshake](image/10.png)

## График потока TCP

Statistics → Flow Graph → TCP Flow  
Наглядно показывает этапы соединения  
Видно передачу данных после handshake  
Отображение закрытия соединения

![График потока](image/11.png)

## Сравнение протоколов

| Протокол | Уровень | Назначение |
|----------|---------|------------|
| ARP | Канальный | Разрешение IP в MAC |
| ICMP | Сетевой | Диагностика сети |
| TCP | Транспортный | Надежная передача |
| UDP | Транспортный | Быстрая передача |

## Ключевые выводы

Wireshark - мощный инструмент анализа трафика  
Успешно изучены протоколы канального уровня  
Практически подтвержден TCP handshake  
Освоены методы фильтрации пакетов  
Получены навыки диагностики сетевых соединений
