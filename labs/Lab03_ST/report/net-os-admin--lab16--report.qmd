---
title: "Лабораторная работа №3"
author: "Газизянов Владислав Альбертович"
subtitle: "Анализ трафика в Wireshark"
license: "CC BY"
---

# Цель работы

Изучение посредством Wireshark кадров Ethernet, анализ PDU протоколов транспортного и прикладного уровней стека TCP/IP.

# Задание

1. Изучить MAC-адресацию сетевых интерфейсов
2. Проанализировать кадры канального уровня в Wireshark
3. Исследовать протоколы транспортного уровня
4. Проанализировать handshake протокола TCP

# Выполнение лабораторной работы

## MAC-адресация

### Вывод команды ipconfig /all

Выполнена команда `ipconfig /all` для получения информации о сетевых интерфейсах.

![Вывод команды ipconfig /all](image/1.png)

В результате получена информация о всех сетевых адаптерах. Основные параметры:
- Основной рабочий интерфейс: Беспроводная сеть
- IP-адрес: 192.168.0.101
- Шлюз по умолчанию: 192.168.0.1

### Определение MAC-адресов

Определены MAC-адреса всех сетевых интерфейсов:
- VirtualBox Host-Only: 0A-00-27-00-00-0C
- Основной Wi-Fi адаптер: C0-BF-BE-CF-C4-CE
- Дополнительные Wi-Fi адаптеры: C2-BF-BE-CF-94-9E, C2-BF-BE-CF-E4-EE
- Bluetooth адаптер: C0-BF-BE-CF-C4-CF

### Анализ структуры MAC-адреса

Проанализирована структура основного MAC-адреса C0-BF-BE-CF-C4-CE:
- OUI (первые 3 байта): C0-BF-BE - производитель MediaTek Inc.
- Идентификатор интерфейса: CF-C4-CE
- Тип адреса: индивидуальный (unicast)
- Администрирование: глобально администрируемый

![Структура MAC-адреса](image/2.png)

## Анализ кадров канального уровня в Wireshark

### Захват ARP и ICMP пакетов

Запущен Wireshark, выбран интерфейс "Беспроводная сеть" и начат захват трафика.

![Запуск Wireshark и выбор интерфейса](image/3.png)

Выполнена команда `ping 192.168.0.1 -n 4` для генерации ICMP трафика.

![Выполнение ping команды](image/4.png)

После остановки захвата применен фильтр `arp or icmp` для отображения только ARP и ICMP пакетов.

![Фильтрация ARP и ICMP пакетов](image/5.png)

### Анализ ICMP-запроса

Исследован ICMP-запрос (Echo request):
- Длина кадра: 74 байта
- MAC назначения: TPLink_15:al:6c (5c:62:8b:15:al:6c) - шлюз
- MAC источника: AzureWaveTec_cf:c4:ce (c0:bf:be:cf:c4:ce) - компьютер
- Тип Ethernet: Ethernet II

![Анализ ICMP-запроса](image/6.png)

### Анализ ICMP-ответа

Исследован ICMP-ответ (Echo reply):
- Длина кадра: 74 байта
- MAC назначения: AzureWaveTec_cf:c4:ce (c0:bf:be:cf:c4:ce) - компьютер
- MAC источника: TPLink_15:al:6c (5c:62:8b:15:al:6c) - шлюз
- Тип Ethernet: Ethernet II

![Анализ ICMP-ответа](image/7.png)

### Анализ ARP пакетов

Исследованы ARP запросы и ответы:

**ARP запрос:**
- Отправитель MAC: TPlink_15:al:6c (шлюз)
- Отправитель IP: 192.168.0.1
- Целевой MAC: 00:00:00:00:00:00 (неизвестен)
- Целевой IP: 192.168.0.101

**ARP ответ:**
- Отправитель MAC: AzureWaveTec_cf:c4:ce (компьютер)
- Отправитель IP: 192.168.0.101
- Целевой MAC: TPlink_15:al:6c (шлюз)
- Целевой IP: 192.168.0.1

![Анализ ARP пакетов](image/8.png)

## Анализ протоколов транспортного уровня

### Захват TCP трафика

Выполнен захват TCP трафика при обращении к веб-сайтам. Применен фильтр для отображения TCP пакетов.

![Захват TCP трафика](image/9.png)

### Анализ TCP handshake

Обнаружен и проанализирован трехэтапный handshake TCP:

**Пакет 26:** [SYN] - инициация соединения
- Seq=0

**Пакет 30:** [SYN, ACK] - подтверждение от сервера
- Seq=0, Ack=1

**Пакет 34:** [ACK] - завершение handshake
- Seq=1, Ack=1

![TCP handshake анализ](image/10.png)

### График потока TCP

Построен график потока TCP через меню Statistics → Flow Graph.

![График потока TCP](image/11.png)

На графике четко видны три этапа установления соединения и последующая передача данных.

# Выводы

В ходе лабораторной работы успешно изучены принципы анализа сетевого трафика с помощью Wireshark. Освоены методы захвата и анализа кадров Ethernet, исследованы протоколы канального уровня (ARP, ICMP) и транспортного уровня (TCP). Практически подтвержден механизм трехэтапного handshake TCP. Полученные навыки позволяют проводить диагностику сетевых соединений и анализировать структуру сетевых пакетов на различных уровнях стека TCP/IP.
