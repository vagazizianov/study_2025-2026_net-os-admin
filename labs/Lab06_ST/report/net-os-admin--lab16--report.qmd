---
title: "Лабораторная работа №6"
author: "Газизянов Владислав Альбертович"
subtitle: "Адресация IPv4 и IPv6. Двойной стек"
license: "CC BY"
---

# Цель работы
Изучение принципов распределения и настройки адресного пространства IPv4 и IPv6 на сетевых устройствах, освоение технологии двойного стека.

# Задание
1. Выполнить разбиение IPv4-сети на подсети
2. Выполнить разбиение IPv6-сети на подсети
3. Настроить двойной стек адресации IPv4 и IPv6 в локальной сети
4. Выполнить самостоятельное задание по настройке сети

# Выполнение лабораторной работы

## Разбиение IPv4-сети на подсети

### Задание 1: Сеть 172.16.20.0/24
Выполнено разбиение сети на 5 подсетей с максимально возможным числом адресов узлов 126, 62, 62. Определены характеристики исходной сети и созданных подсетей.

![Расчет подсетей IPv4](image/1.png)

### Задание 2: Сеть 10.10.1.64/26
Для заданной сети определены префикс, маска, broadcast-адрес, число возможных подсетей, диапазон адресов узлов. Выделена подсеть на 30 узлов с соответствующими характеристиками.

![Характеристики сети 10.10.1.64/26](image/2.png)

### Задание 3: Сеть 10.10.1.0/26
Определены параметры сети и выделена подсеть на 14 узлов. Рассчитаны все необходимые сетевые характеристики.

![Выделение подсети на 14 узлов](image/3.png)

## Разбиение IPv6-сети на подсети

### Задание 1: Сеть 2001:db8:c0de::/48
Охарактеризован адрес, определена маска, префикс, диапазон адресов для узлов сети. Выполнено разбиение на 2 подсети двумя способами - с использованием идентификатора подсети и идентификатора интерфейса.

![Разбиение IPv6 сети методом идентификатора подсети](image/4.png)

### Задание 2: Сеть 2a02:6b8::/64
Проанализированы характеристики сети и предложены варианты разбиения на две подсети различными методами с пояснением выбранных подходов.

![Разбиение IPv6 сети методом идентификатора интерфейса](image/5.png)

## Настройка двойного стека адресации

### Создание топологии сети
В GNS3 реализована топология сети с двумя локальными подсетями согласно рисунку 6.1. Использованы маршрутизаторы FRR для IPv4 и VyOS для IPv6.

![Топология сети в GNS3](image/6.png)

### Настройка IPv4-адресации
Выполнена настройка IPv4-адресов на устройствах первой подсети согласно таблице 6.6. Настроены интерфейсы маршрутизатора FRR msk-user-gw-01.

![Настройка маршрутизатора FRR](image/7.png)

### Проверка IPv4-соединений
Проверено подключение между устройствами IPv4-подсети с помощью команд ping и trace. Узлы PC1 и PC2 успешно обмениваются эхо-запросами.

![Проверка соединения между PC1 и PC2](image/8.png)

### Настройка IPv6-адресации
Настроены IPv6-адреса на устройствах второй подсети. Выполнена конфигурация маршрутизатора VyOS msk-user-gw-02 с назначением адресов и настройкой сервиса router-advert.

![Конфигурация маршрутизатора VyOS](image/9.png)

### Проверка IPv6-соединений
Проверена связность между устройствами IPv6-подсети. Узлы PC3 и PC4 успешно отправляют эхо-запросы друг другу и на сервер с двойным стеком.

![Проверка IPv6 соединений](image/10.png)

### Анализ сетевого трафика
Захвачен и проанализирован трафик на соединении сервера двойного стека с коммутатором. Изучены пакеты ARP, ICMP, ICMPv6 для понимания механизмов работы протоколов.

![Анализ ARP и ICMP трафика](image/11.png)

## Самостоятельное задание

### Характеристика подсетей
Охарактеризованы заданные подсети, определены диапазоны адресов и сетевые параметры для обеих IPv4 и IPv6 подсетей.

![Характеристики подсетей для самостоятельной работы](image/12.png)

### Настройка сети
Разработана таблица адресации, настроены IP-адреса на маршрутизаторе VyOS и оконечных устройствах. Проверена связность между устройствами подсети.

![Проверка подключения в самостоятельной работе](image/13.png)

# Выводы

- Освоены принципы разбиения IPv4-сетей на подсети с использованием VLSM
- Изучены методы разделения IPv6-сетей с использованием идентификатора подсети и идентификатора интерфейса
- Приобретены практические навыки настройки двойного стека адресации в GNS3
- Освоена работа с различными типами маршрутизаторов (FRR для IPv4, VyOS для IPv6)
- Получен опыт анализа сетевого трафика и диагностики работы сетевых протоколов
- Наработаны компетенции по проектированию и конфигурированию сложных сетевых топологий
