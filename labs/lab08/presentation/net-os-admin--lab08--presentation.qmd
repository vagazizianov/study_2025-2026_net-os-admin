---
title: "Лабораторная работа №8"
author: "Газизянов Владислав Альбертович"
subtitle: "Настройка SMTP-сервера"
license: "CC BY"
date: today
date-format: "YYYY-MM-DD"
---

# Цели и задачи

**Цель:** Приобретение практических навыков по установке и конфигурированию SMTP-сервера

**Задачи:**
- Установка и настройка Postfix
- Конфигурация доменной почты
- Тестирование отправки почты
- Автоматизация развёртывания

# Установка Postfix

**Установка пакетов:**
- Postfix как SMTP-сервер
- s-mail как почтовый клиент
- Настройка firewall для SMTP

![Установка пакетов Postfix](image/1.png){width=70%}

# Настройка безопасности

**Конфигурация доступа:**
- Открытие порта 25 в firewall
- Восстановление контекстов SELinux
- Активация службы Postfix

![Настройка firewall для SMTP](image/2.png){width=70%}

# Базовая настройка Postfix

**Утилита postconf:**
- Просмотр текущих настроек
- Настройка параметров домена
- Отключение IPv6

![Просмотр настроек Postfix](image/4.png){width=70%}

# Настройка доменных параметров

**Ключевые параметры:**
- myorigin = $mydomain
- mydomain = user.net
- inet_protocols = ipv4

![Настройка параметров домена](image/5.png){width=70%}

# Тестирование почтовой системы

**Отправка с сервера:**
- Использование утилиты mail
- Мониторинг логов maillog
- Проверка доставки сообщений

![Отправка почты с сервера](image/8.png){width=70%}

# Настройка клиента

**Установка на client:**
- Пакеты Postfix и s-mail
- Аналогичная настройка IPv4
- Запуск почтовой службы

![Установка Postfix на клиенте](image/9.png){width=70%}

# Сетевая конфигурация

**Расширение доступа:**
- inet_interfaces = all
- mynetworks = 127.0.0.0/8, 192.168.0.0/16
- Разрешение пересылки между узлами

![Настройка сетевых интерфейсов](image/11.png){width=70%}

# DNS конфигурация

**MX-записи:**
- Добавление MX-записи для mail.user.net
- Обновление прямой и обратной зон
- Настройка почтового сервера домена

![Настройка DNS записей](image/12.png){width=70%}

# Доменная почта

**Настройка доставки:**
- Добавление домена в mydestination
- Перезапуск DNS и Postfix
- Восстановление SELinux

![Настройка mydestination](image/13.png){width=70%}

# Автоматизация развёртывания

**Vagrant скрипты:**
- Скрипты для server и client
- Автоматическая настройка Postfix
- Интеграция с конфигурацией Vagrant

![Создание скриптов автоматизации](image/16.png){width=70%}

# Контрольные вопросы

**Основные команды:**
- Конфигурация: /etc/postfix/main.cf
- Проверка: postfix check
- Очередь: postqueue -p
- Отправка: postqueue -f

# Выводы

**Результаты работы:**
- Успешно настроен SMTP-сервер Postfix
- Реализована доменная почта с MX-записями
- Обеспечена отправка почты с server и client
- Автоматизирован процесс развёртывания
- Получены навыки администрирования почтовых систем
